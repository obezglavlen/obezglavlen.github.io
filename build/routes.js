(()=>{document.addEventListener("click",t=>{let{target:e}=t;!e.matches("a[nav]")||(t.preventDefault(),a(t))});window.onpopstate=o;window.route=a;var n={404:{template:"/templates/404.html",title:"Page not found",description:"Page not found"},"/":{template:"/templates/index.html",title:"Home page",description:"Home page"},"/downloads":{template:"/templates/downloads.html",title:"Downloads",description:"Downloads"}};function a(t){t=t||window.event;let e=t.target.href;window.history.pushState({},"",e),o()}async function o(){let t=window.location.pathname;(t.length===0||t==="/index.html")&&(window.history.replaceState({},"","/"),t="/");let e=n[t]||n[404],l=await fetch(e.template).then(i=>i.text());document.getElementById("main").innerHTML=l,document.title=e.title}o();})();
